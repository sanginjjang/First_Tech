<!DOCTYPE html>
<html>


<head>
<meta charset="UTF-8">
<title>관심 공고 리스트</title>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<style>
/* 전체 페이지 스타일 */
* {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
body {
            font-family: Arial, sans-serif;
            margin: 0 auto;
            background-color: #f9f9f9;
            color: #333333;
            width: 80%;
        }
    /* 헤더 */
    header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 30px 20px;
            background-color: #ffffff;
            border: 1px solid #d9d9d9;
            border-radius: 5px;
        }

        #logo {
            display: flex;
            width: 100px;
            height: 100px;
        }

        header a {
            margin: 0 10px;
            font-weight: bold;
            font-size: 16px;
            color: #867a7a;
        }

        #header-right {
            position: relative;
            bottom: 55px;
        }

        .search {
            display: flex;
            gap: 10px;
            justify-content: center;
            align-items: center;
        }

        .search> form > input {
            padding: 20px;
            width: 600px;
            border: 1px solid #d9d9d9;
            border-radius: 10px;
        }

        #searchBtn {
            padding: 15px 20px;
            border: 1px solid #d9d9d9;
            background: white;
            border-radius: 10px;
            font-size: 15px;
            font-weight: bold;
        }

        #searchSelect {
            padding: 15px 20px;
            border: 1px solid #d9d9d9;
            border-radius: 5px;
            font-size: 15px;

        }

        /* 네브 */
        nav {
            display: flex;
            align-items: center;
            background-color: #ffffff;
            margin-top: 20px;
            border: 1px solid #d9d9d9;
            border-radius: 5px;
            padding: 15px 50px;
            gap: 250px;
            margin-bottom: 20px;
        }

        .nav-left {
            display: flex;
            gap: 120px;
            font-size: 18px;
            font-weight: bold;
            display: flex;
        }

        .nav-left div a {
            color: black;
            transition: 0.3s;
        }

        .nav-left div a:hover {
            color: blue;
            cursor: pointer;
        }

        .nav-right {
            transition: 0.3s;
            display: flex;
            background-color: #1a73e8;
            padding: 15px 35px;
            border-radius: 5px;
            gap: 20px;
        }

        .nav-right div {
            font-size: 18px;
            color: white;
            margin: 0;
            cursor: pointer;
            transition: 0.3s;
        }

        .nav-right:hover {
            background-color: #105cbf;
        }

           /* footer */
           footer {
            padding: 15px;
            background-color: #ffffff;
            text-align: center;
            border: 1px solid #d9d9d9;
            border-radius: 5px;
            font-size: 14px;
            color: #555555;
  	margin-top: 20px;
        }

/* 필터 및 검색 */
.filter-section {
    display: flex;
    justify-content: space-between; /* 좌우 정렬 */
    padding: 20px;
    background-color: #fff;
    border-bottom: 1px solid #ddd;
}

.filter-section .filters {
    display: flex;
    gap: 15px;
}

.filter-section .search {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-left: 20px;  /* 검색 버튼 왼쪽으로 이동 */
}

.filter-section .selected-values {
    display: flex;
    align-items: center;
    gap: 15px;
}

.filter-section .filters div {
    display: flex;
    flex-direction: column;
}

.filter-section .filters label {
    margin-bottom: 5px;
    font-weight: bold;
}

.filter-section .filters input[type="text"],
.filter-section .filters button,
.filter-section .search button {
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
    background-color: #f8f8f8;
    cursor: pointer;
}

.filter-section .filters button:hover,
.filter-section .search button:hover {
    background-color: #eaeaea;
}

.filter-section .search input[type="button"] {
    padding: 8px 15px;
    background-color: #007bff;
    color: white;
    border: none;
    cursor: pointer;
}

.filter-section .search input[type="button"]:hover {
    background-color: #0056b3;
}

/* 공고 리스트 */
.job-list {
    padding: 20px;
    background-color: #fff;
    border-bottom: 1px solid #ddd;
}

.job-item {
    display: flex;
    align-items: center;
    padding: 15px;
    margin-bottom: 15px;
    border: 1px solid #ddd;
    border-radius: 4px;
    background-color: #f9f9f9;
}

.job-item .thumbnail {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: #eaeaea;
    margin-right: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.job-item .info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.job-item .info .title {
    font-size: 18px;
    font-weight: bold;
    color: #333;
}

.job-item .info .details {
    display: flex;
    gap: 10px;
    font-size: 14px;
    color: #666;
}

.job-item .actions {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
}

.job-item .actions button {
    padding: 8px 10px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

.job-item .actions .bookmark {
    background-color: white;
    color: red;
}

.job-item .actions .bookmark:hover {
    background-color: white;
}

/* 페이지네이션 */
.pagination {
    display: flex;
    justify-content: center;
    padding: 20px 0;
}

.pagination a {
    margin: 0 5px;
    padding: 8px 12px;
    border: 1px solid #ddd;
    border-radius: 4px;
    text-decoration: none;
    color: #333;
    background-color: #f8f8f8;
}

.pagination a:hover {
    background-color: #eaeaea;
}


/* 모달 */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    justify-content: center;
    align-items: center;
}

.modal-content {
    background-color: #fff;
    padding: 20px;
    border-radius: 4px;
    width: 400px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.modal-content h3 {
    margin-top: 0;
}

.modal-content label {
    display: block;
    margin: 5px 0;
}

.modal-content button {
    margin-top: 15px;
    padding: 8px 15px;
    border: 1px solid #ddd;
    border-radius: 4px;
    background-color: #f8f8f8;
    cursor: pointer;
}

.modal-content button:hover {
    background-color: #eaeaea;
}


</style>
</head>
<body>

    <header>
        <div id="logo">
        <a href="/">
            <img src="/uploads/logo.webp" alt="">
        </a>
        </div>
        <div class="search">
        <form action="/s/searchResult2" method="post" id="form">
            <select id="searchSelect"  name="searchPart">
              <option value="searchApplication">공고명</option>
        		<option value="searchCompany">기업명</option>
            </select>
            <input type="text" name="mainSearchInput"  placeholder="텍스트를 입력하세요">
            <th:block th:if="${session.user != null}">
            <button id="searchBtn">검색</button>
            </th:block>
             <th:block th:if="${session.user == null}">
            <button id="searchBtn" onclick="noSearch(event)">검색</button>
            </th:block>
         </form>
        </div>
        <div id="header-right">
        	<th:block th:if="${session.user == null}">
        	  	<span><a href="/hyepin/login">로그인</a></span>
           		<span><a href="/hyepin/join">회원가입</a></span>
            	<span><a href="/hyepin/companyMain">기업 홈</a></span>
        	</th:block>
        	<th:block th:if="${session.user != null}">
        	  	<span><a href="/hyepin/goUserInformation">마이페이지</a></span>
        	  	<span><a href="/hyepin/logout">로그아웃</a></span>
        	</th:block>
        </div>
    </header>
 <nav>
        <div class="nav-left">
        <th:block th:if="${session.user == null}">
            <div onclick="noLogin()">채용공고</div>
            <div onclick="noLogin()">기업정보</div>
            <div onclick="noLogin()">지원현황</div>
            <div onclick="noLogin()">이력서관리</div>
            <div onclick="noLogin()">커뮤니티</div>
        </th:block>
       
        <th:block th:if="${session.user != null}">
            <div><a href="/sangin/applicationsForm">채용공고</a></div>
            <div><a href="/c/companyInfo/1">기업정보</a></div>
            <div><a href="/resume/resumeApplyList">지원현황</a></div>
            <div><a href="/resume/MyResumeList">이력서관리</a></div>
            <div><a href="/b/board/1">커뮤니티</a></div>
        </th:block>
        </div>
        
        <div class="nav-right">
            <div>FAQ</div>
        </div>
    </nav>


<div class="filter-section">
    <div class="filters">
        <div>
            <label for="techStack">기술스택</label>
            <input type="hidden" id="techStack" placeholder="선택" readonly required>
            <button id="openTechStackModal">기술스택 선택</button>
        </div>
        <div>
            <label for="education">학력</label>
            <input type="hidden" id="education" placeholder="선택" readonly required>
            <button id="openEducationModal">학력 선택</button>
        </div>
    </div>
    
    <div class="search">
        <input type="button" value="검색" />
    </div>

    <!-- 선택한 기술스택 및 학력 값 표시 -->
    <div class="selected-values">
        <span id="selectedTechStack"></span>
        <span id="selectedEducation"></span>
    </div>
</div>

<!-- 기술스택 모달 -->
<div class="modal" id="techStackModal">
    <div class="modal-content">
        <h3>기술스택 선택</h3>
            <label><input type="checkbox" name="techStackNum" value="1"> JavaScript</label>
		    <label><input type="checkbox" name="techStackNum" value="2"> Java</label>
		    <label><input type="checkbox" name="techStackNum" value="3"> Python</label>
		    <label><input type="checkbox" name="techStackNum" value="4"> React</label>
		    <label><input type="checkbox" name="techStackNum" value="5"> Node.js</label>
		    <label><input type="checkbox" name="techStackNum" value="6"> Angular</label>
		    <label><input type="checkbox" name="techStackNum" value="7"> AWS</label>
		    <label><input type="checkbox" name="techStackNum" value="8"> Docker</label>
		    <label><input type="checkbox" name="techStackNum" value="9"> Kubernetes</label>
		    <label><input type="checkbox" name="techStackNum" value="10"> SQL</label>
		    <label><input type="checkbox" name="techStackNum" value="11"> HTML/CSS</label>
		    <label><input type="checkbox" name="techStackNum" value="12"> TypeScript</label>
		    <label><input type="checkbox" name="techStackNum" value="13"> Spring</label>
		    <label><input type="checkbox" name="techStackNum" value="14"> Git</label>
		    <label><input type="checkbox" name="techStackNum" value="15"> MySQL</label>
        <button id="closeTechStackModal">확인</button>
    </div>
</div>

<!-- 학력 모달 -->
<div class="modal" id="educationModal">
    <div class="modal-content">
        <h3>학력 선택</h3>
        <label><input type="checkbox" name="education" value="고졸"> 고졸</label>
        <label><input type="checkbox" name="education" value="전문대졸"> 전문대졸</label>
        <label><input type="checkbox" name="education" value="학사"> 학사</label>
        <label><input type="checkbox" name="education" value="석사"> 석사</label>
        <label><input type="checkbox" name="education" value="박사"> 박사</label>
        <button id="closeEducationModal">확인</button>
    </div>
</div>

<div class="job-list">
    <div class="job-item">
        <div class="thumbnail">A</div>
        <div class="info">
            <div class="title">웹 개발자</div>
            <div class="details">
                <span>서울</span>
                <span>경력: 5년</span>
            </div>
        </div>
        <div class="actions">
            <button class="bookmark">♥</button>
        </div>
    </div>
    
</div>

<footer>
        © 2024 First Tech. 모든 권리 보유.
    </footer>

<script>
// 기술스택 및 학력 모달 로직
document.getElementById('openTechStackModal').onclick = function() {
    document.getElementById('techStackModal').style.display = 'flex';
};

document.getElementById('closeTechStackModal').onclick = function() {
    document.getElementById('techStackModal').style.display = 'none';
    const selectedTechStack = Array.from(document.querySelectorAll('input[name="techStackNum"]:checked'))
        .map(input => input.parentNode.textContent.trim())
        .join(', ');
    document.getElementById('selectedTechStack').textContent = `기술스택: ${selectedTechStack}`;
};

document.getElementById('openEducationModal').onclick = function() {
    document.getElementById('educationModal').style.display = 'flex';
};

document.getElementById('closeEducationModal').onclick = function() {
    document.getElementById('educationModal').style.display = 'none';
    const selectedEducation = Array.from(document.querySelectorAll('input[name="education"]:checked'))
        .map(input => input.parentNode.textContent.trim())
        .join(', ');
    document.getElementById('selectedEducation').textContent = `학력: ${selectedEducation}`;
};

$(document).ready(function() {
    // 검색 버튼 클릭 시 AJAX 요청 보내기
    $('.filter-section .search input[type="button"]').click(function() {
        // 선택된 기술스택 값 가져오기
        var selectedTechStack = [];
        $('input[name="techStackNum"]:checked').each(function() {
            selectedTechStack.push($(this).val());
        });

        // 선택된 학력 값 가져오기
        var selectedEducation = [];
        $('input[name="education"]:checked').each(function() {
            selectedEducation.push($(this).val());
        });
        
        // AJAX 요청 보내기
        $.ajax({
            url: '/p/searchPool',
            type: 'GET',  // GET 방식
            data: {
                techStack: selectedTechStack.join(','),  // 기술스택 값
                education: selectedEducation.join(',')   // 학력 값
            },
            success: function(response) {
                // 성공적인 응답을 받은 후 처리
                console.log("서버로부터 받은 응답: ", response);
                // 필요한 로직을 추가 (예: 필터링된 이력서 목록 표시 등)
            },
            error: function(xhr, status, error) {
                // 오류 발생 시 처리
                console.log("AJAX 요청 중 오류 발생: ", error);
            }
        });
    });
});



        function noLogin(){
            alert("로그인 후 이용해 주세요.");
            }
        function noSearch(){
            event.preventDefault(); // 폼 제출 방지
            alert("로그인 후 이용해 주세요.");
            }
    
</script>

</body>
</html>